{"ast":null,"code":"import { createTransport, getTestMessageUrl } from 'nodemailer';\nconst transport = createTransport({\n  host: process.env.MAIL_HOST,\n  port: process.env.MAIL_PORT,\n  auth: {\n    user: process.env.MAIL_USER,\n    pass: process.env.MAIL_PASS\n  }\n});\n\nfunction makeEmail(text) {\n  return `\n    <div style=\"\n      border: 1px solid black;\n      padding: 20px;\n      font-family: sans-serif;\n      line-height: 2;\n      font-size: 20px\n    \">\n      <h2>Hi There! </h2>\n      <p>${text}</p>\n      <p>Regards, Brian Guterl</p>\n    </div>\n  `;\n}\n\nexport async function sendPasswordResetEmail(resetToken, to) {\n  // above is stating the function will return a promise, which will eventually return nothing\n  // email the user a token\n  const info = await transport.sendMail({\n    to,\n    from: 'test@example.com',\n    subject: 'Your password reset token',\n    html: makeEmail(`Here is your password reset token.\n     \n      <a href=\"${process.env.FRONTEND_URL}/reset?token=${resetToken}\">Click here to reset</a>\n    `)\n  });\n\n  if (process.env.MAIL_USER.includes('ethereal.email')) {\n    console.log(`Message Sent! Preview it at ${getTestMessageUrl(info)}`);\n  }\n}","map":null,"metadata":{},"sourceType":"module"}